<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Formatter</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container{
            background: #1a1a2e;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 900px;
            padding: 40px;
        }
        h1{
            text-align: center;
            color: #00d4ff;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }
        .toolbar{
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            padding: 20px;
            background: #16213e;
            border-radius: 10px;
            border: 1px solid #0f4c75;
        }
        .toolbar button{
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            color: #0a0e27;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .toolbar button:hover{
            background: linear-gradient(135deg, #00ffff 0%, #00d4ff 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.5);
        }
        .toolbar button:active{
            transform: translateY(0);
        }
        textarea{
            width: 100%;
            min-height: 300px;
            padding: 20px;
            border: 2px solid #0f4c75;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s ease;
            background: #0f1624;
            color: #e0e0e0;
        }
        .stats{
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding: 20px;
            background: #16213e;
            border-radius: 10px;
            border: 1px solid #0f4c75;
        }
        .stat-item{
            text-align: center;
        }
        .stat-label{
            color: #8b9bb3;
            font-size: 14px;
            margin-bottom: 5px;
        }
        .stat-value{
            color: #00d4ff;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        .copy-btn{
            display: block;
            width: 100%;
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .copy-btn:hover{
            background: linear-gradient(135deg, #ff7979 0%, #ff6b6b 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.5);
        }
        .notification{
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            color: #0a0e27;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.5);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
            font-weight: 600;
        }
        .notification.show{
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœ¨ Text Formatter</h1>
        <div class="toolbar">
            <button onclick="undo()">â†¶ Undo</button>
            <button onclick="redo()">â†· Redo</button>
            <button onclick="formatText('uppercase')">UPPERCASE</button>
            <button onclick="formatText('lowercase')">lowercase</button>
            <button onclick="formatText('capitalize')">Capitalize</button>
            <button onclick="formatText('sentence')">Sentence case</button>
            <button onclick="formatText('titleCase')">Title Case</button>
            <button onclick="formatText('alternating')">aLtErNaTiNg</button>
            <button onclick="formatText('reverse')">Reverse</button>
            <button onclick="formatText('removeSpaces')">Remove Spaces</button>
            <button onclick="formatText('removeLines')">Remove Lines</button>
            <button onclick="formatText('removePunctuation')">Remove Punctuation</button>
            <button onclick="formatText('trim')">Trim</button>
            <button onclick="formatText('sortLines')">Sort Lines A-Z</button>
            <button onclick="formatText('removeDuplicates')">Remove Duplicates</button>
            <button onclick="clearText()">Clear</button>
        </div>
        <textarea id="textInput" placeholder="Enter or paste your text here..."></textarea>
        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">Characters</div>
                <div class="stat-value" id="charCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Characters (no spaces)</div>
                <div class="stat-value" id="charNoSpaceCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Words</div>
                <div class="stat-value" id="wordCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Lines</div>
                <div class="stat-value" id="lineCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Sentences</div>
                <div class="stat-value" id="sentenceCount">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Paragraphs</div>
                <div class="stat-value" id="paraCount">0</div>
            </div>
        </div>
        <button class="copy-btn" onclick="copyText()">ðŸ“‹ Copy to Clipboard</button>
        <div style="display: flex; gap: 10px; margin-top: 10px;">
            <button class="copy-btn" onclick="downloadText()" style="flex: 1;">ðŸ’¾ Download as TXT</button>
            <button class="copy-btn" onclick="shareText()" style="flex: 1;">ðŸ”— Share Text</button>
        </div>
    </div>
    <div class="notification" id="notification">Text copied to clipboard!</div>
    <script>
        const textInput = document.getElementById('textInput');
        const charCount = document.getElementById('charCount');
        const charNoSpaceCount = document.getElementById('charNoSpaceCount');
        const wordCount = document.getElementById('wordCount');
        const lineCount = document.getElementById('lineCount');
        const sentenceCount = document.getElementById('sentenceCount');
        const paraCount = document.getElementById('paraCount');
        const notification = document.getElementById('notification');
        let history = [''];
        let currentIndex = 0;
        textInput.addEventListener('input', function() {
            updateStats();
            saveHistory();
        });
        function saveHistory(){
            currentIndex++;
            history[currentIndex] = textInput.value;
            history = history.slice(0, currentIndex + 1);
        }
        function undo(){
            if (currentIndex > 0) {
                currentIndex--;
                textInput.value = history[currentIndex];
                updateStats();
            }
        }
        function redo(){
            if (currentIndex < history.length - 1) {
                currentIndex++;
                textInput.value = history[currentIndex];
                updateStats();
            }
        }
        function updateStats(){
            const text = textInput.value;
            charCount.textContent = text.length;
            charNoSpaceCount.textContent = text.replace(/\s/g, '').length;
            
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            wordCount.textContent = words.length;
            
            const lines = text.split('\n').filter(line => line.trim().length > 0);
            lineCount.textContent = lines.length;
            
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            sentenceCount.textContent = sentences.length;
            
            const paragraphs = text.split(/\n\n+/).filter(p => p.trim().length > 0);
            paraCount.textContent = paragraphs.length;
        }
        function formatText(type){
            let text = textInput.value;
            
            if (type === 'uppercase') {
                text = text.toUpperCase();
            } else if (type === 'lowercase') {
                text = text.toLowerCase();
            } else if (type === 'capitalize') {
                text = text.split(' ').map(word => 
                    word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
                ).join(' ');
            } else if (type === 'sentence') {
                text = text.toLowerCase();
                text = text.charAt(0).toUpperCase() + text.slice(1);
                text = text.replace(/[.!?]\s+(.)/g, (match, p1) => match.slice(0, -1) + p1.toUpperCase());
            } else if (type === 'titleCase') {
                text = text.toLowerCase().split(' ').map(word => {
                    const small = ['a', 'an', 'the', 'and', 'but', 'or', 'for', 'nor', 'on', 'at', 'to', 'by', 'in', 'of'];
                    if (small.includes(word)) return word;
                    return word.charAt(0).toUpperCase() + word.slice(1);
                }).join(' ');
                text = text.charAt(0).toUpperCase() + text.slice(1);
            } else if (type === 'alternating') {
                text = text.split('').map((char, i) => 
                    i % 2 === 0 ? char.toLowerCase() : char.toUpperCase()
                ).join('');
            } else if (type === 'reverse') {
                text = text.split('').reverse().join('');
            } else if (type === 'removeSpaces') {
                text = text.replace(/\s+/g, '');
            } else if (type === 'removeLines') {
                text = text.replace(/\n+/g, ' ').replace(/\s+/g, ' ');
            } else if (type === 'removePunctuation') {
                text = text.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, '');
            } else if (type === 'trim') {
                text = text.trim();
            } else if (type === 'sortLines') {
                text = text.split('\n').sort().join('\n');
            } else if (type === 'removeDuplicates') {
                const lines = text.split('\n');
                const unique = [];
                for (let i = 0; i < lines.length; i++) {
                    if (unique.indexOf(lines[i]) === -1) {
                        unique.push(lines[i]);
                    }
                }
                text = unique.join('\n');
            }
            textInput.value = text;
            saveHistory();
            updateStats();
        }
        function clearText(){
            textInput.value = '';
            saveHistory();
            updateStats();
        }
        function copyText(){
            textInput.select();
            document.execCommand('copy');
            showNotification('Text copied to clipboard!');
        }
        function downloadText(){
            const text = textInput.value;
            const blob = new Blob([text], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'formatted-text.txt';
            a.click();
            window.URL.revokeObjectURL(url);
            showNotification('File downloaded!');
        }
        function shareText(){
            const text = textInput.value;
            if (text.length === 0) {
                showNotification('No text to share!');
                return;
            }
            
            if (navigator.share) {
                navigator.share({
                    title: 'Formatted Text',
                    text: text
                });
            } else {
                copyText();
                showNotification('Text copied! (Share not supported)');
            }
        }
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(function() {
                notification.classList.remove('show');
            }, 2000);
        }
        updateStats();
    </script>
</body>
</html>